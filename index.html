<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabla Periódica AR</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  <style>
    /* Marca de agua */
    .watermark {
      position: fixed;
      bottom: 10px;
      left: 10px;
      font-size: 12px;
      color: white;
      background: rgba(0,0,0,0.4);
      padding: 3px 6px;
      border-radius: 4px;
      font-family: Arial, sans-serif;
      z-index: 9999;
      pointer-events: none; /* No interfiere con clics */
    }
  </style>
</head>
<body style="margin:0; overflow:hidden;">

  <!-- Escena AR -->
  <a-scene
    vr-mode-ui="enabled: false"
    embedded
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
  >
    <!-- Cámara -->
    <a-entity camera></a-entity>
  </a-scene>

  <!-- Marca de agua -->
  <div class="watermark">Yeiner Quiroz Lobo</div>

  <script>
    // Cargar configuración desde data.json
    fetch("data.json")
      .then(response => response.json())
      .then(elements => {
        const scene = document.querySelector("a-scene");

        Object.keys(elements).forEach(key => {
          const markerUrl = elements[key].marker;
          const imageUrl = elements[key].image;

          const marker = document.createElement("a-nft");
          marker.setAttribute("type", "nft");
          marker.setAttribute("url", markerUrl);

          const plane = document.createElement("a-plane");
          plane.setAttribute("src", imageUrl);
          plane.setAttribute("height", "1");
          plane.setAttribute("width", "1");
          plane.setAttribute("rotation", "-90 0 0");

          marker.appendChild(plane);
          scene.appendChild(marker);
        });
      })
      .catch(err => console.error("❌ Error cargando data.json:", err));
  </script>
</body>
</html>
